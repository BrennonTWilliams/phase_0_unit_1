//I did this project alone

<!DOCTYPE html>
<html>
<head>
</head>
<body>
	<h1>Dark Dungeon</h1>
	<h6>Copyright 2014 Ubisoft Inc</h6>
	<h3>You are in an underground dungeon. You need to find the hatch to escape, but watch out, there are traps too!</h3>
	<button id="up">up</button>
	<button id="down">down</button>
	<button id="left">left</button>
	<button id="right">right</button>
<script>

//PSUEDOCODE
// for up, down left and right
// if hero x and y is a trap reset to 1,1
// if hero x and y is hatch win
// if hero has hit a wall then don't change coordinates
// if hero is unobstructed then change x/y coordinate accordingly

var traps = [[4,4],[8,2],[5,6]]; //these are the trap XY locations, hit one and the game resets

var hero = {
  x: 1,
  y: 1 //starting position of 1,1
}

var hatch = {
	x: 7,
	y: 6
}

// var keypress = require('keypress');

// // make `process.stdin` begin emitting "keypress" events
// keypress(process.stdin);

// listen for the "keypress" event
// process.stdin.on('keypress', function (ch, key) {
//   //console.log('got "keypress"', key);
//   if (key && key.ctrl && key.name == 'c') {
//   }
//   if (key.name == 'a') {
//   	//console.log("A!");
//   	alert("A!");
//   	document.write("A!")
//   }
// });
// var readline = require('readline'),
// rl = readline.createInterface(process.stdin, process.stdout);

// rl.on('line', function (cmd) {
//  document.write('You just typed: '+cmd);

var right = document.getElementById('right');
right.addEventListener('click', function(event) {
	if((hero.x == 4 && hero.y == 4) || (hero.x == 8 && hero.y == 2) || (hero.x == 5 && hero.y == 6) ){
		alert("You hit a trap! You've reset to 1,1. Trap coordinates: " + hero.x + ", " + hero.y);
		hero.x = 1;
		hero.y = 1;
	}
	else if (hero.x == hatch.x && hero.y == hatch.y) {
		document.write("You've found the hatch, you win!")
	}
	else if(hero.x <= 10){
	  hero.x += 1;
	  alert("You move right. Coordinates: " + hero.x + ", " + hero.y);
	}
	else{
		alert("You've hit the wall! Coordinates: " + hero.x + ", " + hero.y);
	}
});

var left = document.getElementById('left');
left.addEventListener('click', function(event) {
	if((hero.x == 4 && hero.y == 4) || (hero.x == 8 && hero.y == 2) || (hero.x == 5 && hero.y == 6) ){
		alert("You hit a trap! You've reset to 1,1. Trap coordinates: " + hero.x + ", " + hero.y);
		hero.x = 1;
		hero.y = 1;
	}
	else if (hero.x == hatch.x && hero.y == hatch.y) {
		document.write("You've found the hatch, you win!")
	}
	else if(hero.x >= 1){
	  hero.x -= 1;
	  alert("You move left. Coordinates: " + hero.x + ", " + hero.y);
	}
	else{
		alert("You've hit the wall! Coordinates: " + hero.x + ", " + hero.y);
	}
});

var up = document.getElementById('up');
up.addEventListener('click', function(event) {
	if((hero.x == 4 && hero.y == 4) || (hero.x == 8 && hero.y == 2) || (hero.x == 5 && hero.y == 6) ){
		alert("You hit a trap! You've reset to 1,1. Trap coordinates: " + hero.x + ", " + hero.y);
		hero.x = 1;
		hero.y = 1;
	}
	else if (hero.x == hatch.x && hero.y == hatch.y) {
		document.write("You've found the hatch, you win!")
	}
	else if(hero.y < 10){
	  hero.y += 1;
	  alert("You move up. Coordinates: " + hero.x + ", " + hero.y);
	}
	else{
		alert("You've hit the wall! Coordinates: " + hero.x + ", " + hero.y);
	}
});

var down = document.getElementById('down');
down.addEventListener('click', function(event) {
	if((hero.x == 4 && hero.y == 4) || (hero.x == 8 && hero.y == 2) || (hero.x == 5 && hero.y == 6) ){
		alert("You hit a trap! You've reset to 1,1. Trap coordinates: " + hero.x + ", " + hero.y);
		hero.x = 1;
		hero.y = 1;
	}
	else if (hero.x == hatch.x && hero.y == hatch.y) {
		document.write("You've found the hatch, you win!")
	}
	else if(hero.y >= 1){
	  hero.y -= 1;
	  alert("You move down. Coordinates: " + hero.x + ", " + hero.y);
	}
	else{
		alert("You've hit the wall! Coordinates: " + hero.x + ", " + hero.y);
	}
});

//REFACTORING
// I feel like I've gotten this as good as I can for now. If I continue this project and refactor it then I need to find a way to
// inform the player that he's hit a wall/trap/hatch on the original move, not the proceeding one. Also, I need to find a way to
// better organize and check the trap coordinates. I also should find a better alternative to alert() and improve the UI design.

//REFLECTION
// This was a humbling excercise. Getting user input was a huge challenge for me, I kept trying to find a way to let the reader enter
// commands through the Node.js console. I downloaded a couple Git projects that were supposed to help with that, but couldn't get them
// to work. After a few hours of searching and trying different methods I finally resigned to using html buttons. I still have a long
// ways to go with Javascript. Though my code is the best it can be currently (without spending many more hours on this project) it is,
// at least to me, pretty ugly. I need to learn more about using two dimensional arrays in javascript, as well as some better ways to
// dynamically interact with the user. Still, I really enjoyed this project. It was fun to have complete control over everything from
// design to execution.

</script>
</body>
</html>
